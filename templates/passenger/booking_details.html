{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>User Dashboard</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Travelix Project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- CSS Links -->
    <link rel="stylesheet" type="text/css" href="{% static 'pass/styles/bootstrap4/bootstrap.min.css'%}">
    <link rel="stylesheet" href="{% static 'pass/plugins/font-awesome-4.7.0/css/font-awesome.min.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/styles/elements_styles.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/styles/elements_responsive.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/plugins/OwlCarousel2-2.2.1/owl.carousel.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/plugins/OwlCarousel2-2.2.1/owl.theme.default.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/plugins/OwlCarousel2-2.2.1/animate.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/styles/main_styles.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'pass/styles/responsive.css'%}">
    
    <style>
        body {
        margin: 0;
        padding: 0;
        background-color: #f0f8ff;
        overflow-y: auto; /* Enable vertical scrollbar if needed */
        }
        .home_slider_container {
            height: 700vh; /* Increased height */
        }
        .home_slider_background {
            height: 100%;
            background-size: cover;
            background-position: center;
        }
        .home_slider_content {
            position: relative;
            z-index: 1;
            color: white;
        }    
        .text-center {
            text-align: center;
        }
		.animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1; /* Send behind other content */
        }
        .circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 165, 0, 0.6);
            animation: float 6s infinite ease-in-out;
        }
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0); }
        }
        .circle1 { width: 100px; height: 100px; top: 20%; left: 10%; animation-duration: 4s; }
        .circle2 { width: 150px; height: 150px; top: 30%; left: 70%; animation-duration: 5s; }
        .circle3 { width: 80px; height: 80px; top: 70%; left: 40%; animation-duration: 6s; }
        .circle4 { width: 120px; height: 120px; top: 50%; left: 80%; animation-duration: 3s; }
        .table-container {
            position: relative;
            margin: 200px auto; /* Adjust as needed */
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 1; /* Ensure this is above the background */
            overflow-y: auto; /* Add scrollbar to the table container if content overflows */
            max-height: 70vh; /* Limit height and allow scrolling within this section */
            width: 90%; /* Make it responsive, defaulting to 90% of the viewport width */
            max-width: 1200px; /* Prevent it from becoming too wide on larger screens */
        }
        
        th, td {
			color: #333;
            text-align: center;
        }
        .fade-in {
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
		.text-center {
            color: #333; /* Dark grey color */
        }
        .super_container {
            min-height: 100vh; /* Ensure it occupies at least full viewport height */
            display: flex;
            flex-direction: column;
        }
        .fade-in {
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .table tbody tr {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .table tbody tr.show {
            opacity: 1;
            transform: translateY(0);
        }
        th, td {
            text-align: center; /* Center align table headers and cells */
        }		
        .table tbody tr {
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 0.5s ease, transform 0.5s ease;
      }
      
      .table tbody tr.show {
          opacity: 1;
          transform: translateY(0);
      }
      
      th, td {
          text-align: center; /* Center align table headers and cells */
      }
    </style>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
</head>
<body>
    <div class="super_container">

        <!-- Header -->
        <header class="header">
            <!-- Top Bar -->
            <div class="top_bar">
                <div class="container">
                    <div class="row">
                        <div class="col d-flex flex-row">
                            <div class="phone">+91 9897654387</div>
                            <div class="social">
                                <ul class="social_list">
                                    <li class="social_list_item"><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                                    <li class="social_list_item"><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                    <li class="social_list_item"><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                    <li class="social_list_item"><a href="#"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
                                    <li class="social_list_item"><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
                                    <li class="social_list_item"><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Navigation -->
            <nav class="main_nav">
                <div class="container">
                    <div class="row">
                        <div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
                            <div class="logo_container">
                                <div class="logo"><a href="#"><img src="{% static 'pass/images/logo.png'%}" alt="">travelix</a></div>
                            </div>
                            <div class="main_nav_container ml-auto">
                                <ul class="main_nav_list">
                                  <li class="main_nav_item"><a href="{% url 'passenger_dashboard' %}">home</a></li>
                                  <li class="main_nav_item"><a href="{% url 'passenger_about' %}">about us</a></li>
                                  <li class="main_nav_item"><a href="{% url 'passenger_offers' %}">offers</a></li>
                                  <li class="main_nav_item"><a href="{% url 'passenger_blog' %}">news</a></li>
                                  <li class="main_nav_item"><a href="{% url 'passenger_contact' %}">contact</a></li>
                                </ul>
                            </div>
                            <div class="content_search ml-lg-0 ml-auto">
                                <form id="search_form" class="search_form bez_1">
                                    <input type="search" class="search_content_input bez_1">
                                </form>
                                <div class="hamburger">
                                    <i class="fa fa-bars trans_200"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Home -->
        <div class="home">
            <!-- Home Slider -->
            <div class="home_slider_container">
                <div class="owl-carousel home_slider owl-theme">
                    <!-- Slider Item 1 -->
                    <div class="home_slider_item">
                        <div class="home_slider_background" style="background-image:url({% static 'pass/images/home_slider.jpg'%})"></div>
                        <div class="home_slider_content text-center">
                            <div class="home_slider_content_inner">
                                <h1>discover</h1>
                                <h1>the world with us</h1>
                            </div>
                        </div>
                    </div>
                    <!-- Additional Slider Items -->
                    <div class="home_slider_item">
                        <div class="home_slider_background" style="background-image:url({% static 'pass/images/home_slider.jpg'%})"></div>
                        <div class="home_slider_content text-center">
                            <div class="home_slider_content_inner">
                                <h1>discover</h1>
                                <h1>the world through us</h1>
                            </div>
                        </div>
                    </div>
                    <div class="home_slider_item">
                        <div class="home_slider_background" style="background-image:url({% static 'pass/images/home_slider.jpg'%})"></div>
                        <div class="home_slider_content text-center">
                            <div class="home_slider_content_inner">
                                <h1>discover</h1>
                                <h1>the world around us</h1>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="animated-background">
                    <div class="circle circle1"></div>
                    <div class="circle circle2"></div>
                    <div class="circle circle3"></div>
                    <div class="circle circle4"></div>
                </div>
                
                <div class="container">
                  <div class="table-container fade-in">
                      <h2 class="text-center">Booking Details</h2>
                      <table class="table table-striped table-bordered">
                       
                        <thead>
                            <tr>
                                <th>Payee Mobile</th>
                                <th>Payee Email</th>
                                <th>Passenger Name</th>
                                <th>Passenger Age</th>
                                <th>Passenger Gender</th>
                                <th>Seat Number</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if payee_details %}
                                {% for passenger in travel_details %}
                                <tr>
                                    {% if forloop.first %}
                                        <td rowspan="{{ travel_details.count }}">{{ payee_details.mobile_number }}</td>
                                        <td rowspan="{{ travel_details.count }}">{{ payee_details.email }}</td>
                                    {% endif %}
                                    <td>{{ passenger.name }}</td>
                                    <td>{{ passenger.age }}</td>
                                    <td>{{ passenger.gender }}</td>
                                    <td>{{ passenger.seat_number }}</td>
                        
                                    
                                </tr>
                                {% endfor %}
                            {% else %}
                                <tr>
                                    <td colspan="9">No Payee or Passenger Travel Details available.</td>
                                </tr>
                            {% endif %}
                        </tbody>
                        
                     
                        
                      </table>
                      
                      
                  </div>
              </div>
          </div>
      </div>

            </div>
        </div>    
    </div>
	<!-- Footer -->
        <footer class="footer">
		<div class="container">
			<div class="row">

				<!-- Footer Column -->
				<div class="col-lg-3 footer_column">
					<div class="footer_col">
						<div class="footer_content footer_about">
							<div class="logo_container footer_logo">
								<div class="logo"><a href="#"><img src="{% static 'pass/images/logo.png'%}" alt="">travelix</a></div>
							</div>
							<p class="footer_about_text"> With our user-friendly platform, extensive range of routes, and commitment to exceptional service, we strive to make every journey memorable. Whether you’re booking a bus ticket or exploring our exciting tours, you can trust us to deliver convenience, reliability, and quality. Join our community of satisfied travelers today and embark on your next adventure with confidence.</p>
							<ul class="footer_social_list">
								<li class="footer_social_item"><a ><i class="fa fa-pinterest"></i></a></li>
								<li class="footer_social_item"><a ><i class="fa fa-facebook-f"></i></a></li>
								<li class="footer_social_item"><a ><i class="fa fa-twitter"></i></a></li>
								<li class="footer_social_item"><a ><i class="fa fa-dribbble"></i></a></li>
								<li class="footer_social_item"><a ><i class="fa fa-behance"></i></a></li>
							</ul>
						</div>
					</div>
				</div>

				<!-- Footer Column -->
				<div class="col-lg-3 footer_column">
					<div class="footer_col">
						<div class="footer_title">More...</div>
						<div class="footer_content footer_blog">
							
							<!-- Footer blog item -->
							<div class="footer_blog_item clearfix">
								<div class="footer_blog_image"><img src="{% static 'pass/images/footer_blog_1.jpg'%}" alt="https://unsplash.com/@avidenov"></div>
								<div class="footer_blog_content">
									<div class="footer_blog_title"><a >Discover New Horizons</a></div>
									
								</div>
							</div>
							
							<!-- Footer blog item -->
							<div class="footer_blog_item clearfix">
								<div class="footer_blog_image"><img src="{% static 'pass/images/footer_blog_2.jpg'%}" alt="https://unsplash.com/@deannaritchie"></div>
								<div class="footer_blog_content">
									<div class="footer_blog_title"><a>Uncover Hidden Gems</a></div>
									
								</div>
							</div>

							<!-- Footer blog item -->
							<div class="footer_blog_item clearfix">
								<div class="footer_blog_image"><img src="{% static 'pass/images/footer_blog_3.jpg'%}" alt="https://unsplash.com/@bergeryap87"></div>
								<div class="footer_blog_content">
									<div class="footer_blog_title"><a >Explore More in 2024</a></div>
									
								</div>
							</div>

						</div>
					</div>
				</div>

				<!-- Footer Column -->
				<div class="col-lg-3 footer_column">
					<div class="footer_col">
						<div class="footer_title">tags</div>
						<div class="footer_content footer_tags">
							<ul class="tags_list clearfix">
								<li class="tag_item"><a href="">design</a></li>
								<li class="tag_item"><a href="">fashion</a></li>
								<li class="tag_item"><a href="">music</a></li>
								<li class="tag_item"><a href="">video</a></li>
								<li class="tag_item"><a href="">party</a></li>
								<li class="tag_item"><a href="">photography</a></li>
								<li class="tag_item"><a href="">adventure</a></li>
								<li class="tag_item"><a href="">travel</a></li>
							</ul>
						</div>
					</div>
				</div>

				<!-- Footer Column -->
				<div class="col-lg-3 footer_column">
					<div class="footer_col">
						<div class="footer_title">contact info</div>
						<div class="footer_content footer_contact">
							<ul class="contact_info_list">
                            <li class="contact_info_item d-flex flex-row">
									<div><div class="contact_info_icon"><img src="{% static 'pass/images/placeholder.svg'%}" alt=""></div></div>
									<div class="contact_info_text">NH-66, Vyttila, Aroor Bypass, near to Kundanoor, Maradu, Kochi, Kerala 682304</div>
								</li>
								<li class="contact_info_item d-flex flex-row">
									<div><div class="contact_info_icon"><img src="{% static 'pass/images/phone-call.svg'%}" alt=""></div></div>
									<div class="contact_info_text">+91 9897654387</div>
								</li>
								<li class="contact_info_item d-flex flex-row">
									<div><div class="contact_info_icon"><img src="{% static 'pass/images/message.svg'%}" alt=""></div></div>
									<div class="contact_info_text"><a href="mailto:contactme@gmail.com?Subject=Hello" target="_top">travelix@gmail.com</a></div>
								</li>
								<li class="contact_info_item d-flex flex-row">
                  <div><div class="contact_info_icon"><img src="{% static 'pass/images/planet-earth.svg'%}" alt=""></div></div>
                  <div class="contact_info_text"><a href="{% url 'passenger_dashboard' %}">www.travelix.com</a></div>
                </li>
							</ul>
						</div>
					</div>
				</div>

			</div>
		</div>
	</footer>
</div>
    

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function() {
        // Show table rows with animation
        $('#submissionTable tr').each(function(index) {
            $(this).delay(index * 200).queue(function(next) {
                $(this).addClass('show');
                next();
            });
        });
    });
</script>
<script>
    function adjustTableHeight() {
        const footerHeight = document.querySelector('.footer').offsetHeight; // Get footer height
        const windowHeight = window.innerHeight; // Get viewport height
        const tableContainer = document.querySelector('.table-container');

        // Calculate available height: subtract footer height, margin, and any additional spacing
        const marginTop = 300; // The margin you set
        const additionalSpacing = 100; // Any extra spacing you want above the footer

        // Set the max height of the table container
        tableContainer.style.maxHeight = `${windowHeight - footerHeight - marginTop - additionalSpacing}px`;
    }

    // Call function on load
    window.onload = adjustTableHeight;

    // Call function on resize
    window.onresize = adjustTableHeight;
</script>
<script>
  window.onload = function() {
      const rows = document.querySelectorAll('.table tbody tr');  // Select all rows
      rows.forEach((row, index) => {
          setTimeout(() => {
              row.classList.add('show');  // Add the 'show' class after a delay
          }, index * 200);  // Increased delay to 200ms between rows for a slower staggered effect
      });
  };
</script>
</body>
</html>